{"version":3,"sources":["../../../../src/visualizations/chart/Editor/DefaultColorsSettings.tsx"],"names":["DefaultColorsSettings","options","data","onOptionsChange","colors","Automatic","ColorPalette","series","rows","name","key","color","seriesOptions","updateSeriesOption","prop","value","columns","title","dataIndex","width","render","unused","item","propTypes","EditorPropTypes"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;;;;;;;;;;;AAEe,SAASA,qBAAT,OAAwE;AAAA,MAAvCC,OAAuC,QAAvCA,OAAuC;AAAA,MAA9BC,IAA8B,QAA9BA,IAA8B;AAAA,MAAxBC,eAAwB,QAAxBA,eAAwB;AACrF,MAAMC,MAAM,GAAG,oBACb;AACEC,IAAAA,SAAS,EAAE;AADb,KAEKC,qBAFL,CADa,EAKb,EALa,CAAf;AAQA,MAAMC,MAAM,GAAG,oBACb,MACE,iBAAI,2BAAaL,IAAI,CAACM,IAAlB,EAAwBP,OAAxB,CAAJ,EAAsC;AAAA,QAAGQ,IAAH,SAAGA,IAAH;AAAA,WAAe;AACnDC,MAAAA,GAAG,EAAED,IAD8C;AAEnDE,MAAAA,KAAK,EAAE,CAACV,OAAO,CAACW,aAAR,CAAsBH,IAAtB,KAA+B,EAAhC,EAAoCE,KAApC,IAA6C;AAFD,KAAf;AAAA,GAAtC,CAFW,EAMb,CAACV,OAAD,EAAUC,IAAV,CANa,CAAf;AASA,MAAMW,kBAAkB,GAAG,wBACzB,CAACH,GAAD,EAAMI,IAAN,EAAYC,KAAZ,KAAsB;AACpBZ,IAAAA,eAAe,CAAC;AACdS,MAAAA,aAAa,EAAE;AACb,SAACF,GAAD,GAAO;AACL,WAACI,IAAD,GAAQC;AADH;AADM;AADD,KAAD,CAAf;AAOD,GATwB,EAUzB,CAACZ,eAAD,CAVyB,CAA3B;AAaA,MAAMa,OAAO,GAAG,CACd;AACEC,IAAAA,KAAK,EAAE,QADT;AAEEC,IAAAA,SAAS,EAAE;AAFb,GADc,EAKd;AACED,IAAAA,KAAK,EAAE,OADT;AAEEC,IAAAA,SAAS,EAAE,OAFb;AAGEC,IAAAA,KAAK,EAAE,IAHT;AAIEC,IAAAA,MAAM,EAAE,CAACC,MAAD,EAAcC,IAAd,kBACN,6BAAC,oBAAD,CACE;AADF;AAEE,0CAA2BA,IAAI,CAACZ,GAAhC,WAFF,CAGE;AAHF;AAIE,MAAA,WAAW,MAJb,CAKE;AALF;AAME,MAAA,YAAY,EAAEN,MANhB,CAOE;AAPF;AAQE,MAAA,SAAS,EAAC,UARZ,CASE;AATF;AAUE,MAAA,KAAK,EAAEkB,IAAI,CAACX,KAVd,CAWE;AAXF;AAYE,MAAA,QAAQ,EAAGI,KAAD,IAAgBF,kBAAkB,CAACS,IAAI,CAACZ,GAAN,EAAW,OAAX,EAAoBK,KAApB,CAZ9C,CAaE;AAbF;AAcE,MAAA,UAAU,eAAE,6BAAC,oBAAD,CAAa,KAAb;AAAmB,QAAA,KAAK,EAAEO,IAAI,CAACX,KAA/B;AAAsC,QAAA,YAAY,EAAEP;AAApD;AAdd;AALJ,GALc,CAAhB,CA/BqF,CA6DrF;;AACA,sBAAO,6BAAC,cAAD;AAAO,IAAA,UAAU,EAAE,KAAnB;AAA0B,IAAA,UAAU,EAAEG,MAAtC;AAA8C,IAAA,OAAO,EAAES,OAAvD;AAAgE,IAAA,UAAU,EAAE;AAA5E,IAAP;AACD;;AAEDhB,qBAAqB,CAACuB,SAAtB,GAAkCC,0BAAlC","sourcesContent":["import { map } from \"lodash\";\nimport React, { useMemo, useCallback } from \"react\";\nimport Table from \"antd/lib/table\";\nimport ColorPicker from \"@/components/ColorPicker\";\nimport { EditorPropTypes } from \"@/visualizations/prop-types\";\nimport ColorPalette from \"@/visualizations/ColorPalette\";\nimport getChartData from \"../getChartData\";\n\nexport default function DefaultColorsSettings({ options, data, onOptionsChange }: any) {\n  const colors = useMemo(\n    () => ({\n      Automatic: null,\n      ...ColorPalette,\n    }),\n    []\n  );\n\n  const series = useMemo(\n    () =>\n      map(getChartData(data.rows, options), ({ name }) => ({\n        key: name,\n        color: (options.seriesOptions[name] || {}).color || null,\n      })),\n    [options, data]\n  );\n\n  const updateSeriesOption = useCallback(\n    (key, prop, value) => {\n      onOptionsChange({\n        seriesOptions: {\n          [key]: {\n            [prop]: value,\n          },\n        },\n      });\n    },\n    [onOptionsChange]\n  );\n\n  const columns = [\n    {\n      title: \"Series\",\n      dataIndex: \"key\",\n    },\n    {\n      title: \"Color\",\n      dataIndex: \"color\",\n      width: \"1%\",\n      render: (unused: any, item: any) => (\n        <ColorPicker\n          // @ts-expect-error ts-migrate(2322) FIXME: Type 'string' is not assignable to type 'never'.\n          data-test={`Chart.Series.${item.key}.Color`}\n          // @ts-expect-error ts-migrate(2322) FIXME: Type 'boolean' is not assignable to type 'never'.\n          interactive\n          // @ts-expect-error ts-migrate(2322) FIXME: Type '{ \"Indian Red\": string; \"Green 2\": string; \"... Remove this comment to see the full error message\n          presetColors={colors}\n          // @ts-expect-error ts-migrate(2322) FIXME: Type 'string' is not assignable to type 'never'.\n          placement=\"topRight\"\n          // @ts-expect-error ts-migrate(2322) FIXME: Type 'any' is not assignable to type 'never'.\n          color={item.color}\n          // @ts-expect-error ts-migrate(2322) FIXME: Type '(value: any) => void' is not assignable to t... Remove this comment to see the full error message\n          onChange={(value: any) => updateSeriesOption(item.key, \"color\", value)}\n          // @ts-expect-error ts-migrate(2322) FIXME: Type 'Element' is not assignable to type 'never'.\n          addonAfter={<ColorPicker.Label color={item.color} presetColors={colors} />}\n        />\n      ),\n    },\n  ];\n\n  // @ts-expect-error ts-migrate(2322) FIXME: Type 'boolean[]' is not assignable to type 'object... Remove this comment to see the full error message\n  return <Table showHeader={false} dataSource={series} columns={columns} pagination={false} />;\n}\n\nDefaultColorsSettings.propTypes = EditorPropTypes;\n"],"file":"DefaultColorsSettings.js"}