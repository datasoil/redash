{"version":3,"sources":["../../../src/visualizations/sankey/Renderer.tsx"],"names":["Renderer","data","container","setContainer","render","unwatch","propTypes","RendererPropTypes"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AAGA;;AACA;;;;;;;;;;;;;;;;;;;;AAEe,SAASA,QAAT,OAAsD;AAAA,MAAlCC,IAAkC,QAAlCA,IAAkC;;AAAA,kBACjC,qBAAgC,IAAhC,CADiC;AAAA;AAAA,MAC5DC,SAD4D;AAAA,MACjDC,YADiD;;AAGnE,MAAMC,MAAM,GAAG,oBAAQ,MAAM,yBAAWH,IAAX,CAAd,EAA0D,CAACA,IAAD,CAA1D,CAAf;AAEA,wBAAU,MAAM;AACd,QAAIC,SAAJ,EAAe;AACbE,MAAAA,MAAM,CAACF,SAAD,CAAN;AACA,UAAMG,OAAO,GAAG,6BAAeH,SAAf,EAA0B,MAAM;AAC9CE,QAAAA,MAAM,CAACF,SAAD,CAAN;AACD,OAFe,CAAhB;AAGA,aAAOG,OAAP;AACD;AACF,GARD,EAQG,CAACH,SAAD,EAAYE,MAAZ,CARH;AAUA,sBAAO;AAAK,IAAA,SAAS,EAAC,gCAAf;AAAgD,IAAA,GAAG,EAAED;AAArD,IAAP;AACD;;AAEDH,QAAQ,CAACM,SAAT,GAAqBC,4BAArB","sourcesContent":["import React, { useState, useEffect, useMemo } from \"react\";\nimport resizeObserver from \"@/services/resizeObserver\";\nimport { RendererPropTypes } from \"@/visualizations/prop-types\";\n\nimport { SankeyDataType } from \"./index\";\nimport initSankey, { ExtendedSankeyDataType } from \"./initSankey\";\nimport \"./renderer.less\";\n\nexport default function Renderer({ data }: { data: SankeyDataType }) {\n  const [container, setContainer] = useState<null | HTMLDivElement>(null);\n\n  const render = useMemo(() => initSankey(data as ExtendedSankeyDataType), [data]);\n\n  useEffect(() => {\n    if (container) {\n      render(container);\n      const unwatch = resizeObserver(container, () => {\n        render(container);\n      });\n      return unwatch;\n    }\n  }, [container, render]);\n\n  return <div className=\"sankey-visualization-container\" ref={setContainer} />;\n}\n\nRenderer.propTypes = RendererPropTypes;\n"],"file":"Renderer.js"}