{"version":3,"sources":["../../../../src/visualizations/funnel/Editor/GeneralSettings.tsx"],"names":["GeneralSettings","options","data","onOptionsChange","columnNames","columns","c","name","onOptionsChangeDebounced","stepCol","colName","undefined","col","displayAs","event","target","value","valueCol","autoSort","checked","sortKeyCol","reverse","order","propTypes","EditorPropTypes"],"mappings":"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","sourcesContent":["import { map } from \"lodash\";\nimport React, { useMemo } from \"react\";\nimport { useDebouncedCallback } from \"use-debounce\";\nimport { Section, Select, Input, Checkbox } from \"@/components/visualizations/editor\";\nimport { EditorPropTypes } from \"@/visualizations/prop-types\";\n\nexport default function GeneralSettings({ options, data, onOptionsChange }: any) {\n  const columnNames = useMemo(() => map(data.columns, c => c.name), [data]);\n\n  const [onOptionsChangeDebounced] = useDebouncedCallback(onOptionsChange, 200);\n\n  return (\n    <React.Fragment>\n      {/* @ts-expect-error ts-migrate(2745) FIXME: This JSX tag's 'children' prop expects type 'never... Remove this comment to see the full error message */}\n      <Section>\n        <Select\n          layout=\"horizontal\"\n          label=\"Step Column\"\n          data-test=\"Funnel.StepColumn\"\n          placeholder=\"Choose column...\"\n          defaultValue={options.stepCol.colName || undefined}\n          onChange={(colName: any) => onOptionsChange({ stepCol: { colName: colName || null } })}>\n          {map(columnNames, col => (\n            // @ts-expect-error ts-migrate(2339) FIXME: Property 'Option' does not exist on type '({ class... Remove this comment to see the full error message\n            <Select.Option key={col} data-test={`Funnel.StepColumn.${col}`}>\n              {col}\n              {/* @ts-expect-error ts-migrate(2339) FIXME: Property 'Option' does not exist on type '({ class... Remove this comment to see the full error message */}\n            </Select.Option>\n          ))}\n        </Select>\n      </Section>\n\n      {/* @ts-expect-error ts-migrate(2745) FIXME: This JSX tag's 'children' prop expects type 'never... Remove this comment to see the full error message */}\n      <Section>\n        <Input\n          layout=\"horizontal\"\n          label=\"Step Column Title\"\n          data-test=\"Funnel.StepColumnTitle\"\n          defaultValue={options.stepCol.displayAs}\n          onChange={(event: any) => onOptionsChangeDebounced({ stepCol: { displayAs: event.target.value } })}\n        />\n      </Section>\n\n      {/* @ts-expect-error ts-migrate(2745) FIXME: This JSX tag's 'children' prop expects type 'never... Remove this comment to see the full error message */}\n      <Section>\n        <Select\n          layout=\"horizontal\"\n          label=\"Value Column\"\n          data-test=\"Funnel.ValueColumn\"\n          placeholder=\"Choose column...\"\n          defaultValue={options.valueCol.colName || undefined}\n          onChange={(colName: any) => onOptionsChange({ valueCol: { colName: colName || null } })}>\n          {map(columnNames, col => (\n            // @ts-expect-error ts-migrate(2339) FIXME: Property 'Option' does not exist on type '({ class... Remove this comment to see the full error message\n            <Select.Option key={col} data-test={`Funnel.ValueColumn.${col}`}>\n              {col}\n              {/* @ts-expect-error ts-migrate(2339) FIXME: Property 'Option' does not exist on type '({ class... Remove this comment to see the full error message */}\n            </Select.Option>\n          ))}\n        </Select>\n      </Section>\n\n      {/* @ts-expect-error ts-migrate(2745) FIXME: This JSX tag's 'children' prop expects type 'never... Remove this comment to see the full error message */}\n      <Section>\n        <Input\n          layout=\"horizontal\"\n          label=\"Value Column Title\"\n          data-test=\"Funnel.ValueColumnTitle\"\n          defaultValue={options.valueCol.displayAs}\n          onChange={(event: any) => onOptionsChangeDebounced({ valueCol: { displayAs: event.target.value } })}\n        />\n      </Section>\n\n      {/* @ts-expect-error ts-migrate(2745) FIXME: This JSX tag's 'children' prop expects type 'never... Remove this comment to see the full error message */}\n      <Section>\n        <Checkbox\n          data-test=\"Funnel.CustomSort\"\n          checked={!options.autoSort}\n          onChange={event => onOptionsChange({ autoSort: !event.target.checked })}>\n          Custom Sorting\n        </Checkbox>\n      </Section>\n\n      {!options.autoSort && (\n        <React.Fragment>\n          {/* @ts-expect-error ts-migrate(2745) FIXME: This JSX tag's 'children' prop expects type 'never... Remove this comment to see the full error message */}\n          <Section>\n            <Select\n              layout=\"horizontal\"\n              label=\"Sort Column\"\n              data-test=\"Funnel.SortColumn\"\n              allowClear\n              placeholder=\"Choose column...\"\n              defaultValue={options.sortKeyCol.colName || undefined}\n              onChange={(colName: any) => onOptionsChange({ sortKeyCol: { colName: colName || null } })}>\n              {map(columnNames, col => (\n                // @ts-expect-error ts-migrate(2339) FIXME: Property 'Option' does not exist on type '({ class... Remove this comment to see the full error message\n                <Select.Option key={col} data-test={`Funnel.SortColumn.${col}`}>\n                  {col}\n                  {/* @ts-expect-error ts-migrate(2339) FIXME: Property 'Option' does not exist on type '({ class... Remove this comment to see the full error message */}\n                </Select.Option>\n              ))}\n            </Select>\n          </Section>\n\n          {/* @ts-expect-error ts-migrate(2745) FIXME: This JSX tag's 'children' prop expects type 'never... Remove this comment to see the full error message */}\n          <Section>\n            <Select\n              layout=\"horizontal\"\n              label=\"Sort Order\"\n              data-test=\"Funnel.SortDirection\"\n              disabled={!options.sortKeyCol.colName}\n              defaultValue={options.sortKeyCol.reverse ? \"desc\" : \"asc\"}\n              onChange={(order: any) => onOptionsChange({ sortKeyCol: { reverse: order === \"desc\" } })}>\n              {/* @ts-expect-error ts-migrate(2339) FIXME: Property 'Option' does not exist on type '({ class... Remove this comment to see the full error message */}\n              <Select.Option value=\"asc\" data-test=\"Funnel.SortDirection.Ascending\">\n                ascending\n                {/* @ts-expect-error ts-migrate(2339) FIXME: Property 'Option' does not exist on type '({ class... Remove this comment to see the full error message */}\n              </Select.Option>\n              {/* @ts-expect-error ts-migrate(2339) FIXME: Property 'Option' does not exist on type '({ class... Remove this comment to see the full error message */}\n              <Select.Option value=\"desc\" data-test=\"Funnel.SortDirection.Descending\">\n                descending\n                {/* @ts-expect-error ts-migrate(2339) FIXME: Property 'Option' does not exist on type '({ class... Remove this comment to see the full error message */}\n              </Select.Option>\n            </Select>\n          </Section>\n        </React.Fragment>\n      )}\n    </React.Fragment>\n  );\n}\n\nGeneralSettings.propTypes = EditorPropTypes;\n"],"file":"GeneralSettings.js"}