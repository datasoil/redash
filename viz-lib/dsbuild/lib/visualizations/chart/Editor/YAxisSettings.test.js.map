{"version":3,"sources":["../../../../src/visualizations/chart/Editor/YAxisSettings.test.tsx"],"names":["findByTestID","wrapper","testId","find","elementExists","length","mount","options","done","enzyme","columns","rows","changedOptions","expect","toMatchSnapshot","describe","test","el","globalSeriesType","yAxis","type","opposite","last","simulate","target","value","toBeTruthy","toBeFalsy","sortY","reverseY"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport enzyme from \"enzyme\";\n\nimport getOptions from \"../getOptions\";\nimport YAxisSettings from \"./YAxisSettings\";\n\nfunction findByTestID(wrapper: any, testId: any) {\n  return wrapper.find(`[data-test=\"${testId}\"]`);\n}\n\nfunction elementExists(wrapper: any, testId: any) {\n  return findByTestID(wrapper, testId).length > 0;\n}\n\nfunction mount(options: any, done: any) {\n  options = getOptions(options);\n  return enzyme.mount(\n    <YAxisSettings\n      visualizationName=\"Test\"\n      data={{ columns: [], rows: [] }}\n      options={options}\n      onOptionsChange={changedOptions => {\n        expect(changedOptions).toMatchSnapshot();\n        done();\n      }}\n    />\n  );\n}\n\ndescribe(\"Visualizations -> Chart -> Editor -> Y-Axis Settings\", () => {\n  test(\"Changes axis type\", done => {\n    const el = mount(\n      {\n        globalSeriesType: \"column\",\n        yAxis: [{ type: \"linear\" }, { type: \"linear\", opposite: true }],\n      },\n      done\n    );\n\n    findByTestID(el, \"Chart.LeftYAxis.Type\")\n      .last()\n      .simulate(\"mouseDown\");\n    findByTestID(el, \"Chart.LeftYAxis.Type.Category\")\n      .last()\n      .simulate(\"click\");\n  });\n\n  test(\"Changes axis name\", done => {\n    const el = mount(\n      {\n        globalSeriesType: \"column\",\n        yAxis: [{ type: \"linear\" }, { type: \"linear\", opposite: true }],\n      },\n      done\n    );\n\n    findByTestID(el, \"Chart.LeftYAxis.Name\")\n      .last()\n      .simulate(\"change\", { target: { value: \"test\" } });\n  });\n\n  test(\"Changes axis min value\", done => {\n    const el = mount(\n      {\n        globalSeriesType: \"column\",\n        yAxis: [{ type: \"linear\" }, { type: \"linear\", opposite: true }],\n      },\n      done\n    );\n\n    findByTestID(el, \"Chart.LeftYAxis.RangeMin\")\n      .find(\"input\")\n      .last()\n      .simulate(\"change\", { target: { value: \"50\" } });\n  });\n\n  test(\"Changes axis max value\", done => {\n    const el = mount(\n      {\n        globalSeriesType: \"column\",\n        yAxis: [{ type: \"linear\" }, { type: \"linear\", opposite: true }],\n      },\n      done\n    );\n\n    findByTestID(el, \"Chart.LeftYAxis.RangeMax\")\n      .find(\"input\")\n      .last()\n      .simulate(\"change\", { target: { value: \"200\" } });\n  });\n\n  describe(\"for non-heatmap\", () => {\n    test(\"Right Y Axis should be available\", () => {\n      // @ts-expect-error ts-migrate(2554) FIXME: Expected 2 arguments, but got 1.\n      const el = mount({\n        globalSeriesType: \"column\",\n        yAxis: [{ type: \"linear\" }, { type: \"linear\", opposite: true }],\n      });\n\n      expect(elementExists(el, \"Chart.RightYAxis.Type\")).toBeTruthy();\n    });\n  });\n\n  describe(\"for heatmap\", () => {\n    test(\"Right Y Axis should not be available\", () => {\n      // @ts-expect-error ts-migrate(2554) FIXME: Expected 2 arguments, but got 1.\n      const el = mount({\n        globalSeriesType: \"heatmap\",\n        yAxis: [{ type: \"linear\" }, { type: \"linear\", opposite: true }],\n      });\n\n      expect(elementExists(el, \"Chart.RightYAxis.Type\")).toBeFalsy();\n    });\n\n    test(\"Sets Sort X Values option\", done => {\n      const el = mount(\n        {\n          globalSeriesType: \"heatmap\",\n          sortY: false,\n        },\n        done\n      );\n\n      findByTestID(el, \"Chart.LeftYAxis.Sort\")\n        .last()\n        .simulate(\"click\");\n    });\n\n    test(\"Sets Reverse Y Values option\", done => {\n      const el = mount(\n        {\n          globalSeriesType: \"heatmap\",\n          reverseY: false,\n        },\n        done\n      );\n\n      findByTestID(el, \"Chart.LeftYAxis.Reverse\")\n        .last()\n        .simulate(\"click\");\n    });\n  });\n});\n"],"file":"YAxisSettings.test.js"}