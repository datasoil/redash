{"version":3,"sources":["../../../../src/visualizations/map/Editor/GeneralSettings.tsx"],"names":["getColumns","column","unusedColumns","v","GeneralSettings","options","data","onOptionsChange","columns","c","name","latColName","lonColName","classify","col","undefined","propTypes","EditorPropTypes"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AACA;;;;;;AAEA,SAASA,UAAT,CAAoBC,MAApB,EAAiCC,aAAjC,EAAqD;AACnD,SAAO,oBAAO,CAACD,MAAD,EAAS,GAAGC,aAAZ,CAAP,EAAmCC,CAAC,IAAI,CAAC,mBAAMA,CAAN,CAAzC,CAAP;AACD;;AAEc,SAASC,eAAT,OAAkE;AAAA,MAAvCC,OAAuC,QAAvCA,OAAuC;AAAA,MAA9BC,IAA8B,QAA9BA,IAA8B;AAAA,MAAxBC,eAAwB,QAAxBA,eAAwB;AAC/E,MAAML,aAAa,GAAG,oBACpB,MACE,wBACE,iBAAII,IAAI,CAACE,OAAT,EAAkBC,CAAC,IAAIA,CAAC,CAACC,IAAzB,CADF,EAEE,CAACL,OAAO,CAACM,UAAT,EAAqBN,OAAO,CAACO,UAA7B,EAAyCP,OAAO,CAACQ,QAAjD,CAFF,CAFkB,EAMpB,CAACP,IAAD,EAAOD,OAAO,CAACM,UAAf,EAA2BN,OAAO,CAACO,UAAnC,EAA+CP,OAAO,CAACQ,QAAvD,CANoB,CAAtB;AASA,sBACE,6BAAC,cAAD,CAAO,QAAP,qBAEE,6BAAC,eAAD,qBACE,6BAAC,cAAD;AACE,IAAA,KAAK,EAAC,sBADR;AAEE,iBAAU,+BAFZ;AAGE,IAAA,KAAK,EAAER,OAAO,CAACM,UAHjB;AAIE,IAAA,QAAQ,EAAGA,UAAD,IAAqBJ,eAAe,CAAC;AAAEI,MAAAA;AAAF,KAAD;AAJhD,KAKG,iBAAIX,UAAU,CAACK,OAAO,CAACM,UAAT,EAAqBT,aAArB,CAAd,EAAmDY,GAAG;AAAA;AACrD;AACA,+BAAC,cAAD,CAAQ,MAAR;AAAe,IAAA,GAAG,EAAEA,GAApB;AAAyB,iBAAW,mCAAmCA;AAAvE,KACGA,GADH,CAFD,CALH,CADF,CAFF,eAmBE,6BAAC,eAAD,qBACE,6BAAC,cAAD;AACE,IAAA,KAAK,EAAC,uBADR;AAEE,iBAAU,gCAFZ;AAGE,IAAA,KAAK,EAAET,OAAO,CAACO,UAHjB;AAIE,IAAA,QAAQ,EAAGA,UAAD,IAAqBL,eAAe,CAAC;AAAEK,MAAAA;AAAF,KAAD;AAJhD,KAKG,iBAAIZ,UAAU,CAACK,OAAO,CAACO,UAAT,EAAqBV,aAArB,CAAd,EAAmDY,GAAG;AAAA;AACrD;AACA,+BAAC,cAAD,CAAQ,MAAR;AAAe,IAAA,GAAG,EAAEA,GAApB;AAAyB,iBAAW,oCAAoCA;AAAxE,KACGA,GADH,CAFD,CALH,CADF,CAnBF,eAoCE,6BAAC,eAAD,qBACE,6BAAC,cAAD;AACE,IAAA,KAAK,EAAC,UADR;AAEE,iBAAU,oBAFZ;AAGE,IAAA,UAAU,MAHZ;AAIE,IAAA,WAAW,EAAC,MAJd;AAKE,IAAA,KAAK,EAAET,OAAO,CAACQ,QAAR,IAAoBE,SAL7B;AAME,IAAA,QAAQ,EAAGd,MAAD,IAAiBM,eAAe,CAAC;AAAEM,MAAAA,QAAQ,EAAEZ,MAAM,IAAI;AAAtB,KAAD;AAN5C,KAOG,iBAAID,UAAU,CAACK,OAAO,CAACQ,QAAT,EAAmBX,aAAnB,CAAd,EAAiDY,GAAG;AAAA;AACnD;AACA,+BAAC,cAAD,CAAQ,MAAR;AAAe,IAAA,GAAG,EAAEA,GAApB;AAAyB,iBAAW,wBAAwBA;AAA5D,KACGA,GADH,CAFD,CAPH,CADF,CApCF,CADF;AAwDD;;AAEDV,eAAe,CAACY,SAAhB,GAA4BC,0BAA5B","sourcesContent":["import { isNil, map, filter, difference } from \"lodash\";\nimport React, { useMemo } from \"react\";\nimport { Section, Select } from \"@/components/visualizations/editor\";\nimport { EditorPropTypes } from \"@/visualizations/prop-types\";\n\nfunction getColumns(column: any, unusedColumns: any) {\n  return filter([column, ...unusedColumns], v => !isNil(v));\n}\n\nexport default function GeneralSettings({ options, data, onOptionsChange }: any) {\n  const unusedColumns = useMemo(\n    () =>\n      difference(\n        map(data.columns, c => c.name),\n        [options.latColName, options.lonColName, options.classify]\n      ),\n    [data, options.latColName, options.lonColName, options.classify]\n  );\n\n  return (\n    <React.Fragment>\n      {/* @ts-expect-error ts-migrate(2745) FIXME: This JSX tag's 'children' prop expects type 'never... Remove this comment to see the full error message */}\n      <Section>\n        <Select\n          label=\"Latitude Column Name\"\n          data-test=\"Map.Editor.LatitudeColumnName\"\n          value={options.latColName}\n          onChange={(latColName: any) => onOptionsChange({ latColName })}>\n          {map(getColumns(options.latColName, unusedColumns), col => (\n            // @ts-expect-error ts-migrate(2339) FIXME: Property 'Option' does not exist on type '({ class... Remove this comment to see the full error message\n            <Select.Option key={col} data-test={\"Map.Editor.LatitudeColumnName.\" + col}>\n              {col}\n              {/* @ts-expect-error ts-migrate(2339) FIXME: Property 'Option' does not exist on type '({ class... Remove this comment to see the full error message */}\n            </Select.Option>\n          ))}\n        </Select>\n      </Section>\n\n      {/* @ts-expect-error ts-migrate(2745) FIXME: This JSX tag's 'children' prop expects type 'never... Remove this comment to see the full error message */}\n      <Section>\n        <Select\n          label=\"Longitude Column Name\"\n          data-test=\"Map.Editor.LongitudeColumnName\"\n          value={options.lonColName}\n          onChange={(lonColName: any) => onOptionsChange({ lonColName })}>\n          {map(getColumns(options.lonColName, unusedColumns), col => (\n            // @ts-expect-error ts-migrate(2339) FIXME: Property 'Option' does not exist on type '({ class... Remove this comment to see the full error message\n            <Select.Option key={col} data-test={\"Map.Editor.LongitudeColumnName.\" + col}>\n              {col}\n              {/* @ts-expect-error ts-migrate(2339) FIXME: Property 'Option' does not exist on type '({ class... Remove this comment to see the full error message */}\n            </Select.Option>\n          ))}\n        </Select>\n      </Section>\n\n      {/* @ts-expect-error ts-migrate(2745) FIXME: This JSX tag's 'children' prop expects type 'never... Remove this comment to see the full error message */}\n      <Section>\n        <Select\n          label=\"Group By\"\n          data-test=\"Map.Editor.GroupBy\"\n          allowClear\n          placeholder=\"none\"\n          value={options.classify || undefined}\n          onChange={(column: any) => onOptionsChange({ classify: column || null })}>\n          {map(getColumns(options.classify, unusedColumns), col => (\n            // @ts-expect-error ts-migrate(2339) FIXME: Property 'Option' does not exist on type '({ class... Remove this comment to see the full error message\n            <Select.Option key={col} data-test={\"Map.Editor.GroupBy.\" + col}>\n              {col}\n              {/* @ts-expect-error ts-migrate(2339) FIXME: Property 'Option' does not exist on type '({ class... Remove this comment to see the full error message */}\n            </Select.Option>\n          ))}\n        </Select>\n      </Section>\n    </React.Fragment>\n  );\n}\n\nGeneralSettings.propTypes = EditorPropTypes;\n"],"file":"GeneralSettings.js"}