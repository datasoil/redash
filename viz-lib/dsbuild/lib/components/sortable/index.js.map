{"version":3,"sources":["../../../src/components/sortable/index.tsx"],"names":["DragHandle","className","restProps","SortableContainerWrapper","children","SortableElement","SortableContainer","disabled","containerComponent","containerProps","wrapperProps","containerRef","isDragging","setIsDragging","shouldCancelStart","helperContainer","current","updateBeforeSortStart","args","onSortStart","event","preventDefault","onSortEnd","ref","ContainerComponent","defaultProps"],"mappings":"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","sourcesContent":["import { isFunction, wrap } from \"lodash\";\nimport React, { useRef, useState } from \"react\";\nimport cx from \"classnames\";\n// @ts-expect-error ts-migrate(2724) FIXME: Module '\"../../../node_modules/react-sortable-hoc/... Remove this comment to see the full error message\nimport { sortableContainer, sortableElement, sortableHandle } from \"react-sortable-hoc\";\n\nimport \"./style.less\";\n\nexport const DragHandle = sortableHandle(({ className, ...restProps }: any) => (\n  <div className={cx(\"drag-handle\", className)} {...restProps} />\n));\n\nexport const SortableContainerWrapper = sortableContainer(({ children }: any) => children);\n\nexport const SortableElement = sortableElement(({ children }: any) => children);\n\ntype OwnProps = {\n  disabled?: boolean;\n  containerComponent?: React.ReactElement;\n  containerProps?: any;\n  children?: React.ReactNode;\n};\n\ntype Props = OwnProps & typeof SortableContainer.defaultProps;\n\nexport function SortableContainer({ disabled, containerComponent, containerProps, children, ...wrapperProps }: Props) {\n  const containerRef = useRef();\n  const [isDragging, setIsDragging] = useState(false);\n\n  wrapperProps = { ...wrapperProps };\n  containerProps = { ...containerProps };\n\n  if (disabled) {\n    // Disabled state:\n    // - forbid drag'n'drop (and therefore no need to hook events\n    // - don't override anything on container element\n    // @ts-expect-error ts-migrate(2339) FIXME: Property 'shouldCancelStart' does not exist on typ... Remove this comment to see the full error message\n    wrapperProps.shouldCancelStart = () => true;\n  } else {\n    // Enabled state:\n\n    // - use container element as a default helper element\n    // @ts-expect-error\n    wrapperProps.helperContainer = wrap(wrapperProps.helperContainer, helperContainer =>\n      isFunction(helperContainer) ? helperContainer(containerRef.current) : containerRef.current\n    );\n\n    // - hook drag start/end events\n    // @ts-expect-error ts-migrate(2339) FIXME: Property 'updateBeforeSortStart' does not exist on... Remove this comment to see the full error message\n    wrapperProps.updateBeforeSortStart = wrap(wrapperProps.updateBeforeSortStart, (updateBeforeSortStart, ...args) => {\n      setIsDragging(true);\n      if (isFunction(updateBeforeSortStart)) {\n        updateBeforeSortStart(...args);\n      }\n    });\n    // @ts-expect-error\n    wrapperProps.onSortStart = wrap(wrapperProps.onSortStart, (onSortStart, ...args) => {\n      if (isFunction(onSortStart)) {\n        onSortStart(...args);\n      } else {\n        const event = args[1] as DragEvent;\n        event.preventDefault();\n      }\n    });\n\n    // @ts-expect-error ts-migrate(2339) FIXME: Property 'onSortEnd' does not exist on type '{}'.\n    wrapperProps.onSortEnd = wrap(wrapperProps.onSortEnd, (onSortEnd, ...args) => {\n      setIsDragging(false);\n      if (isFunction(onSortEnd)) {\n        onSortEnd(...args);\n      }\n    });\n\n    // - update container element: add classes and take a ref\n    containerProps.className = cx(\n      \"sortable-container\",\n      { \"sortable-container-dragging\": isDragging },\n      containerProps.className\n    );\n    containerProps.ref = containerRef;\n  }\n\n  const ContainerComponent = containerComponent;\n  return (\n    <SortableContainerWrapper {...wrapperProps}>\n      {/* @ts-expect-error ts-migrate(2604) FIXME: JSX element type 'ContainerComponent' does not hav... Remove this comment to see the full error message */}\n      <ContainerComponent {...containerProps}>{children}</ContainerComponent>\n    </SortableContainerWrapper>\n  );\n}\n\nSortableContainer.defaultProps = {\n  disabled: false,\n  containerComponent: \"div\",\n  containerProps: {},\n  children: null,\n};\n"],"file":"index.js"}